# BotLigue
Python Discord Bot using Challonge API to manage tournaments

## Requirements
The bot is based on the following packages and their dependancies
* `Discord.py` ([documentation](https://discordpy.readthedocs.io/en/latest/index.html))
* `pychal` ([documentation](https://github.com/ZEDGR/pychal))
* `dotenv`([documentation](https://pypi.org/project/python-dotenv/))

## Installation
You can download this repository and set a `.env` file at the project root. Note
that `.env` is not uploaded to GitHub as it is ignored via `.gitignore`. The
information required to be put into the file is mentioned later.

Then, you have to run the setup script
```bash
pip install -e .
```

And then you can start the bot using the following command
```bash
bot
```

## Usage
### Setting Tokens
Create a `.env` file at root level. Serve the file with tokens from
[Discord](https://discord.com/developers/) and from
[Challonge](https://challonge.com/fr/settings/developer)
```python
[discord]
DISCORD_TOKEN={your-discord-token-here}

[challonge]
CHALLONGE_NICKNAME={your-challonge-nickname}
CHALLONGE_TOKEN={your-challonge-token}
```

## List of commands
Commands start with `bot ` at the start of the message

Admin commands are meant to be executed by `Guild.Member` with `Administrator`
permission

### Admin commands with parameters
The above commands are also implemented using parameters

```bash
bot admin list [-open|-closed]
bot admin create -name Tournament Name -type Tournament Type
bot admin destroy -name Tournament Name
```

Note:
- `Spaces` are allowed in this use of commands

### Admin commands without parameters


Hereunder is a list of bot commands

```bash
bot admin list
bot admin create Tournament-Name Tournament-Type
bot admin destroy Tournament-Name
```

Note:
- Arguments need to not have any `space` and should be written with a `-`
- `bot admin list` without parameters will display both `-open` and `-closed`
tournaments

## About the registration process
The registration process is a 1-step or a 2-step functionality. Indeed, some
players prefer not to have their decklist published on public channels before
the actual start of the event. To do this, the bot is programmed to accept a
call with or without parameters.

### 2-step method
```
bot register
```
It is the signal that somebody wants to join the tournament. The bot will
then send a DM to the player for them to send both decklist and the hash
generated by the software used. The bot will help the player through the whole
process so as not to let  them figure what to do.
```
bot decklist url_to_decklist
bot hash generated_hash
```

### 1-step method
This method is more straightforward and the one that is recommended due to the
lack of interaction between the bot and the player. This command also has many
options to customize one's possibilities, as it is the method that is
recommended

#### bot register
It is still the core command to register oneself but the options will make ones
registration a unique experience :
- `-help` will display all the options
- `-nickname Chosen-Nickname`
- `-decklist url_to_decklist`
- `-hash generated_hash`

#### Parameters to be added at some point
I would like to add some parameters to this command but I'm really not sure
if people would want them or if it is only me :
- `-cz commander` or `-cz partner1 / parter2` to register the Command Zone
- `-tag Arena#Tag` to be added to a specific role of players looking for games
outside the current scope of the tournament

## Helping developing the Bot
If you want new feature to be added, please request them in the
[Issues](https://github.com/Spigushe/BotLigue/issues) section.

If you want to share your knowledge and help developing the Bot, you are welcome
to fork this project and send a
[pull request](https://github.com/Spigushe/BotLigue/pulls).
